<!DOCTYPE html>
<html>
    <head>
        <!--Load a random image to test connection-->
        <div id="connection-warning" style="display: none;">No internet connection! Fonts and icons can't be loaded!</div>
        <script src="scripts/noConnection.js"></script>
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Short-beaked_echidna_in_ANBG.jpg/220px-Short-beaked_echidna_in_ANBG.jpg"
            onerror="noConnection()" style="display: none;">
        <!--End test-->

        <link rel="stylesheet" href="styles/indexStyle.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
            integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
        <title>Algorithm Visualizer</title>
    </head>
    
    <script src="scripts/timeline.js"></script>
    <script src="scripts/globalVars.js"></script>
    <script src="scripts/changeElementColors.js"></script>
    <script src="scripts/getHeights.js"></script>
    <script src="scripts/randomizeHeights.js"></script>
    <script src="scripts/updateBars.js"></script>
    <script src="scripts/pauseSorting.js"></script>
    <script src="scripts/resetBars.js"></script>
    <script src="scripts/sleep.js"></script>
    <script src="scripts/stopwatch.js"></script>
    <script src="scripts/startSort.js"></script>
    <script src="scripts/resetStates.js"></script>
    <script src="algorithms/bubbleSort.js"></script>
    <script src="algorithms/mergeSort.js"></script>
    <script src="algorithms/insertionSort.js"></script>
    <script src="algorithms/selectionSort.js"></script>
    
    <body>
        <div id="grey-overlay" onclick="toggleSlideMenu()"></div>
        <section id="menu-container">
            <div id="slide-menu">
                <section id="menu-options-container">
                    <section id="algorithm-select-container">
                        <label>Algorithm:</label>
                        <button name="insertion" onclick="selectAlgorithm(name)">Insertion</button>
                        <button name="bubble" onclick="selectAlgorithm(name)">Bubble</button>
                        <button name="merge" onclick="selectAlgorithm(name)">Merge</button>
                        <button name="selection" onclick="selectAlgorithm(name)">Selection</button>
                    </section>
                    <section id="speed-select-container">
                        <label>Speed:</label>
                        <button name="1x" onclick="selectSpeed(name)">1x</button>
                        <button name="2x" onclick="selectSpeed(name)">2x</button>
                        <button name="3x" onclick="selectSpeed(name)">3x</button>
                    </section>
                    <section id="num-bars-select-container">
                        <label>No. of Bars:</label>
                        <input type="text" name="num-bars-field" value="50" oninput="validateNumBarsField(value)">
                        <div id="num-bars-popup">(Range: 15 - 300)</div>
                    </section>
                </section>
                <div id="slide-menu-toggler" onclick="toggleSlideMenu()">
                    <i class="fa fa-bars" aria-hidden="true"></i>
                </div>
            </div>
        </section>

        <section id="main-container">
            <h1 id="heading">Algorithm Visualizer</h1>
            
            <section id="time-box" class="time-box">
                <h2 id="time-label">Time: 0.0s</h2>
            </section>
            
            <section id="btn-group">
                <button id="play-btn" onclick="startSort()">
                    <i id="play-icon" class="fas fa-play" onerror="checkConnection()"></i>Sort
                </button>
                <button id="pause-btn" onclick="togglePaused()">
                    <i id="pause-icon" class="fas fa-pause"></i>Pause
                </button>
                <br>
                <button id="reset-btn" onclick="resetBars()">
                    <i id="reset-icon" class="fas fa-reply"></i>Reset
                </button>
                <button id="randomize-btn" onclick="randomizeHeights(); updateBars()">
                    <i id="randomize-icon" class="fas fa-question"></i>Random
                </button>
            </section>

            <section id="stats-box">
                <label id="complexity-label">Complexity:</label>
                <label id="num-bars-label">No. of Bars: 30</label>
                <label id="speed-label">Speed:</label>
            </section>

            <section id="legend">
                <div class="legend-box" style="background-color: green;"></div>
                <label>- waiting</label>
                <br>
                <div class="legend-box" style="background-color: mediumpurple;"></div>
                <label>- comparing</label>
                <br>
                <div class="legend-box" style="background-color: red;"></div>
                <label>- swaping</label>
            </section>
            
            <div id="table-label">Previous Runs</div>
            
            <div id="graph-placeholder"></div>
            
            <div id="table-placeholder"></div>
        </section>

        <script src="scripts/drawBars.js"></script>
        <script src="scripts/drawTable.js"></script>
        <script src="scripts/slideMenu.js"></script>
    </body>
</html>
